// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource sqlite {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "sqlite"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id        String    @id @default(cuid())
  name      String    @default("")
  email     String    @unique @default("")
  password  String
  posts     Post[]    @relation("Post_author")
  createdAt DateTime? @default(now())
}

model Post {
  id       String  @id @default(cuid())
  title    String  @default("")
  content  String  @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  author   User?   @relation("Post_author", fields: [authorId], references: [id])
  authorId String? @map("author")
  tags     Tag[]   @relation("Post_tags")

  @@index([authorId])
}

model Tag {
  id    String @id @default(cuid())
  name  String @default("")
  posts Post[] @relation("Post_tags")
}

model Brand {
  id       String    @id @default(cuid())
  name     String    @default("")
  models   Model[]   @relation("Model_brand")
  products Product[] @relation("Product_brand")
  updateAt DateTime?
}

model Model {
  id         String     @id @default(cuid())
  name       String     @default("")
  brand      Brand?     @relation("Model_brand", fields: [brandId], references: [id])
  brandId    String?    @map("brand")
  capacities Capacity[] @relation("Capacity_model")
  colors     Color[]    @relation("Color_model")
  versions   Version[]  @relation("Version_model")
  products   Product[]  @relation("Product_model")
  updateAt   DateTime?

  @@index([brandId])
}

model Capacity {
  id       String    @id @default(cuid())
  name     String    @default("")
  model    Model?    @relation("Capacity_model", fields: [modelId], references: [id])
  modelId  String?   @map("model")
  products Product[] @relation("Product_capacity")
  updateAt DateTime?

  @@index([modelId])
}

model Color {
  id       String    @id @default(cuid())
  name     String    @default("")
  model    Model?    @relation("Color_model", fields: [modelId], references: [id])
  modelId  String?   @map("model")
  products Product[] @relation("Product_color")
  updateAt DateTime?
  picture  String    @default("")

  @@index([modelId])
}

model Version {
  id       String    @id @default(cuid())
  name     String    @default("")
  model    Model?    @relation("Version_model", fields: [modelId], references: [id])
  modelId  String?   @map("model")
  products Product[] @relation("Product_version")
  updateAt DateTime?

  @@index([modelId])
}

model Product {
  id          String    @id @default(cuid())
  price       String    @default("")
  brand       Brand?    @relation("Product_brand", fields: [brandId], references: [id])
  brandId     String?   @map("brand")
  model       Model?    @relation("Product_model", fields: [modelId], references: [id])
  modelId     String?   @map("model")
  capacity    Capacity? @relation("Product_capacity", fields: [capacityId], references: [id])
  capacityId  String?   @map("capacity")
  color       Color?    @relation("Product_color", fields: [colorId], references: [id])
  colorId     String?   @map("color")
  version     Version?  @relation("Product_version", fields: [versionId], references: [id])
  versionId   String?   @map("version")
  name        String    @default("")
  description String    @default("")
  updateAt    DateTime?

  @@index([brandId])
  @@index([modelId])
  @@index([capacityId])
  @@index([colorId])
  @@index([versionId])
}
